---
title: 마르게리따 피자 먹은날
createBy: 2024-10-16
description: 저녁에 할머니랑 피자 먹었다.
charter: 일지
tags: ["일지"]
---

## 회사

오늘은 회사에서 흔치 않은 이슈가 생겨서 해결하다가 시간을 보냈었는데 백엔드 DB로 사용하고 있던 몽고DB가 갑자기 죽었었다.  
도커로 열었어서 이전에도 컨테이너가 싹 내려갔었던 적이 있었는데 그런건가? 하고 다시 리스타트했는데 안켜졌다.  
로그를 확인해보니 스토리지가 꽉 차있다고 해서 확인해보니 리눅스 서버 사용량이 풀로 사용되고 있었다.

회사 서버에 데이터를 넣어두는 마운트된 용량 많은 곳에 몽고DB 볼륨을 연결해놨으면 안죽었을텐데, 개발용이라 연결안해둬서 죽은거였다.  
그래서 VSCode에서 SSH 연동해서 접속하려고 했는데 아이디, 패스워드 정확하게 10번 이상 입력했는데 접근이 안됐다.

확인보니 VSCode 확장 프로그램으로 접속하면 리눅스 서버 접근 폴더에 확장 프로그램 관련 설치를 하는데 용량 풀이니 설치가 안되고 로그인도 안된거였다.  
그래서 다른 MobaXterm 이라는걸 사용하는데 SSH 접속해서 사용하지 않는 레거시 도커 컨테이너 날려버리니깐 69GB 정도 용량이 생겼다.  
그리고 VSCode로 접속하니 정상 작동하고 몽고DB도 데이터 폴더쪽으로 볼륨 연동하고 진짜 해결했다! 느낌이였는데

도커 실행시키니 이번엔 권한에러 떠서, 뭐지? 싶었는데 도커에서 연결한 데이터 폴더 생성, 수정 권한 없다고 에러 뜬거였다.  
데이터폴더는 로그인한 계정 권한으로도 수정할 수 있었기에 `id` 입력해서 현재 로그인된 유저 `uid` 추출하고 `docker-compose`에 `user: uid`로 추가하니 해결됐다.

## 집

집에서는 저녁을 뭘 먹을까 하다가 굶을까 했는데, 이전에 맛있게 시켜먹은 마르게리타 시켜먹기로 했다. (그렇다고 배가 고픈건 아님)  
요즘 저녁을 먹을때 배가 고파서 먹는다긴보단, 저녁 시간이네? 밥 먹어야지 하는 경향이 좀 더 쎈듯하다.  
밖에서 먹거나, 남이 사주면 또 잘 먹는데 집에서 먹으면 생각보다 잘 못 먹는다.

그래서 그나마 맛있다고 생각하는거 의주로 시켜먹곤하는데 할머니가 할아버지 돌아가시고 혼자 생활하시는거 생각나서 같이 먹기로 했다.  
할머니는 원래 저녁을 일찍 드셔서, 퇴근하고 배달 시켜먹으면 8시가 넘으니 패턴이 깨질거 같아서 저녁을 같이 못 먹곤 했는데  
딱히 큰 문제는 아니였었던거 같다. 막상 시켜먹으니깐 잘 드셨다. 가끔 저녁에 배달 시켜먹을떄 자주 같이 먹어야겠다 싶었다.

그리고 방에서는 오랜만에 나도 todos 추상화 해봤는데, 관점을 잘못 잡아서 얘매한 코드가 완성됐었는데 ㅡㅡ.... 아쉽다.  
다음엔 코드를 작성하기전에 좀 더 설계를 잘하고 작성을 해야지 싶다.
