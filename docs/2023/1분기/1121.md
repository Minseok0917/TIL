---
title: 11시 40분
createBy: 2023-11-21
description: 회사 => 학교 => 헬스 => 집
charter: 일지
tags: ["일지"]
---

## 회사

오늘은 회사에서 Nuxt API 연동 작업을 하고 있었는데  
기본적으로 어드민 페이지를 Nuxt 로 개발해보고 있었기에 불편한감이 있었다.

API 를 연동하는 함수들의 종류도 많고 아직 이해 안되는 부분이 많아서 문제가 많았고  
리펙토링을 나중에 좀 감안을 하더라도 구현을 하려니깐 또 다른 이슈가 나와서 골치아팠다.  
최종적으론 지하철에서 좀 찾아보면서 추측은 했는데 내일 테스트 해봐야겠다.

## 학교

오랜만에 학교를 갔는데 가르쳐야하는 친구가 5명 정도 있었는데  
이전에 가르쳤던 내용을 처음부터 동일하게 또 가르쳐야되는게 약간 힘들었다.

결국엔 계속 돌아다니면서 질문을 받다보니 8시 30분쯤에 편의점에 가서 저녁 밥 샀다.  
남은 시간이 많진 않아서 닭가슴살에 삼각김밥 하나 구매하고 먹고 끝났다.  
약간 기초부분은 문서로 정리하고 공유해줘야겠다 싶었다.

점심에는 디지텍에서 도제로 후배가 실습왔는데 이사님이 점심 사줄 때  
나랑 과장님도 같이 가서 공짜 밥 먹었고 라멘 먹었는데 나름 괜찮았다.

## 헬스

학교 끝나고 헬스장으로 바로 갔다.  
어제도 등, 어깨했는데 근육통이 별로없어서 또 했다.

대략 그렇게 힘들다고 생각할 때까지 웨이트를 하고  
인터벌 러닝 뛰어서 4.5km 300kcal 태웠다.

## 집

집에서는 잠시 멍 때리다가 Nuxt 문서 조금 보면서 공부했다.  
뭐 그렇다고 많이 본 것도 아니고 부분적으로 쪼금씩 살펴보고 테스트한 정도?

회사에서 안됐던 기능도 테스트해봤는데 동일하게 재현이 안되는거보면 내일 해야겠다.

### 회사에서 있었던 PUT vs PATCH

회사에서 꿀벌이가 API를 만들었는데 하나의 API 에 전체수정과 부분수정이 다 있었다.  
HTTP METHOd 는 PATCH 로 만들긴했는데 이렇게 하는게 좋은건가? 라는 생각이 들어서 찾아보고 개인적인 생각을 적어봤다.

우선 멱등성이라는 개념을 짚고 넘어가야하는데 동일한 값으로 데이터를 여러 번 전송했을 때 동일한 결과가 실행되는걸 멱등성이라고 한다.  
멱등성의 성격을 가진건 DEL, PUT 인데 DEL 은 삭제라는 개념에서 매번 동일하고, PUT 또한 전체수정이 매번 동일하게 수정될 것이다.  
반면 PATCH의 부분 수정같은 경우에는 찜, 찜 취소를 예시로 API 전송했을떄 서버에서 찜 여부 조회하고 매번 다른 결과가 실행될 수도 있다.

개발자 입장에선 PUT 은 KEY 값이 오지 않을 경우 기본값이 null 로 포함되지만
PATCH 는 KEY 값이 오지 않으면 제외되는 형식이라 PATCH 가 개발하기 편할수도 있다.

PATCH 같은 경우에는 하나의 테이블에 컬럼 20개가 있다고 가정하에 API 하나로 여러 역할로 돌려 쓸 수도 있지만  
그럴경우에는 PUT 같은 기능을 사용해야될 경우 따로 조건을 입력해서 검사를 해야되서 코드가 복잡해질수있다.  
하나의 API의 여러 역할을 담는다는건 코드에 조건이 많아질 수 있는걸 뜻하는거니 좋은 방법은 아니라고 생각한다.

PATCH 는 유연성, 효율성, 개발속도가 좋지만  
PUT 은 명확성과 멱등성의 성격을 가지고 있다.

최종적으론 전체수정과 부분수정을 하나의 역할로만 가지고 있다면 PATCH 가 좋다고 생각하지만  
여러 역할을 담당할 경우에는 PUT 으로 명확하게 분리를 하는게 좋을 듯하다.  
어떻게 보면 화면기준으로 그룹을 묶어서 분리를 하는거니 틀을 잘 잡아야한다.

- PATCH : 멱등성이 아닌것(찜 토글), 특별한 부분 수정(Password), 전체, 부분 수정(하나의 역할)
- PUT : 전체 수정

하나의 역할이라는것은 PATCH 코드에 PUT 처럼 필수적으로 들어가야되는 KEY 가 있을 경우를 말하는거다.  
SOLID 원칙에서 단일 책임의 원칙을 생각하고 설계하면 어느정도 더 편하게 분리할 수 있을지도 모른다.
