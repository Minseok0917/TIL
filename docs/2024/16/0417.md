---
title: 책 읽다가 그대로 자 버림
createBy: 2024-04-17
description: 책 읽다가 그래도 잤다.
charter: 일지
tags: ["일지"]
---

## 오전반차

아침에 일어났을때 알람없이 7시에 일어났다. 근데 너무 빨리 일어난거 같아서 다시 잤다.  
그리고 일어나니깐 9시쯤이였는데 원래는 그대로 출근해도 됐던거였는데 아직 병특 시절 버릇이 남아서 반차쓰고 그대로 잤다.  
휴가 신청서를 올리고 아! 이젠 그냥 출근해도 되는거였지라는 생각을 하고 있었다. 근데 올린겸 그냥 휴식하고 갔다.

## 회사

회사에서는 수정페이지 작업중인데 백엔드쪽 코드를 하나 하나 잘 작성하고 진짜 구조 잘 잡았다하고 실행 시켰는데 안됐다.  
코드가 작동은 하는데 자꾸 의도치 않은 값이 수정되는 거였는데 이 부분 때문에 하루종일 삽질 하다가 끝났다.

## 집

오늘은 바로 집으로 직행했다. 그리고 집에 오랜만에 피나치공 시켜서 먹고 그랬다.  
이후 회사에서 작업하던거 왜 에러가 뜬건지 하나하나 다 뜯어보면서 찾아본 결과 답은 이랬다.

### 삽질 해결

내가 TypeORM을 사용할 때 관계형 연동된 값이 자꾸 NULL로 변경되는 이슈였는데  
이 문제에서는 A를 기준으로 B, C가 관계형 연동이 되어있다면 A를 변경할때 A만 넣어야했는데 B까지 넣어서 버그가 생겼다.  
문제는 B 같은 경우에는 업데이트는 동작했는데 기존 관계형 연결된 데이터가 하나라도 없으면 NULL로 변경되고 그외에는 신규값은 INSERT가 되진 않았다.  
단순하게 데이터를 잘못 집어넣어서 생긴 이슈라고 형식을 고치니깐 잘 작동해서 좋았다.

나는 설계할 떄 꽤 복잡하게 했다. (아이디, 이름, 설명) 이렇게 해놨는데 수정할때는 밑에 형식대로 했다.

- (아이디, 이름, 설명) : 아이디를 기준으로 데이터가 수정된다.
- (이름, 설명) : 아이디가 없으므로 신규 추가
- (기존 데이터) : 수정사항에 없는 아이디는 삭제처리된다.

근데 이것을 코드로 구축하려면 그래도 5~15줄 정도는 사용해야되는거 같았다.

### 리액트 데코레이터

내가 최근에 어떤 개발자분이 프론트엔드에서 데코레이터를 사용했다는 글을 봤는데 몇 달전 나의 사고랑 비슷했다.  
글을 작성하신 분은 리액트를 사용했었고, 그떄의 나는 뷰를 사용했었는데 데코레이터 사용이 불가능했었다.  
요즘은 VITE를 사용하는 추세인데 ESBuild를 사용하고 있는데 얘가 데코레이터를 지원을 안한다.

그래서 VITE기반인 VUE는 데코레이터를 사용할 수 없어서 깃헙 이슈에 알림 설정만 하고 기다리고 있었는데  
리액트에서는 작동하는거 같아서 VITE로 프로젝트 구축했는데 리액트는 SWC라는 러스트기반 컴파일러가 있었다.  
느낌상 SWC설정을 하면 데코레이터를 사용할 수 있는거 같아서 나쁘지 않았다. (SWC 아닌 버전에서는 테스트 안해봄 - 근데 어차피 안될거같음)

그래서 VITE + React + Typescript + SWC로 프로젝트 구축하고 데코레이터 작동까지 체크했다.  
나중에 사이드 할 떄 데코레이터를 응용해서 프로젝트를 진행해볼 예정이다.

### 책

독서 모임 관련해서 책 읽었는데 누워서 책을 읽다가 한 2챕터 정도 읽고 그대로 자 버렸다.
